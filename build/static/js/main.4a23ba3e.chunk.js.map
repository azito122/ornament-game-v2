{"version":3,"sources":["Util.tsx","Cell.tsx","Board.tsx","App.tsx","index.tsx"],"names":["getRandomInt","min","max","Math","floor","random","getRandomItem","arr","length","Cell","onMouseOver","props","handleHover","position","onMouseLeave","handleUnhover","onClick","handleClick","type","className","this","special","status","React","Component","_Cell","Board","buffer","hovered","targeted","emptyCell","cells","Array","height","fill","width","JSON","parse","stringify","undefined","state","locked","map","groupIndex","key","cell","cellIndex","p","fillCells","untargetByPositions","flushBuffer","found","findGroupPositions","console","log","targetByPositions","addScore","lock","boomByPositions","resetBuffer","s","ns","v","i","getRandomTileType","forEach","r","c","fillCell","unlock","getCell","start","thing","findType","searchSpace","findMatchingAdjacent","row","y","x","push","foundAdjacent","concat","findTypePositions","getAdjacentPositions","adjPosition","recurse","filter","onBoard","positions","setTimeout","bind","bfc","setState","level","callback","App","score","over","won","addition","boomed","levelThresholds","newScore","reduce","a","b","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4a23ba3e.chunk.js","sourcesContent":["// export class Position {\n//   public x:number;\n//   public y:number;\n\n//   constructor(x:number,y:number) {\n//     this.x = x;\n//     this.y = y;\n//   }\n\n//   public onBoard(): boolean {\n//     if (\n//       this.x < 0 ||\n//       this.y < 0 ||\n//       this.x >= 11 ||\n//       this.y >= 7\n//     ) {\n//       return false;\n//     }\n//     return true;\n//   }\n// }\n\nexport function getRandomInt(min:number, max:number): number {\n  return Math.floor(Math.random() * (max - min) + min);\n}\n\nexport function getRandomItem(arr:any[]) {\n  return arr[Math.floor(Math.random() * arr.length)];\n}\n\nexport function deepCopy(thing:any) {\n  return JSON.parse(JSON.stringify(thing));\n}\n\nexport function onBoard(position:[number,number]): boolean {\n  if (\n    position[0] < 0 ||\n    position[1] < 0 ||\n    position[0] >= 11 ||\n    position[1] >= 7\n  ) {\n    return false;\n  }\n  return true;\n}","import React from 'react'\n// import { Position } from './Util'\nimport './Cell.css'\n\ninterface CellProps {\n  position: [number,number],\n  type: number,\n  handleClick: Function,\n  handleHover: Function,\n  handleUnhover: Function,\n  special: string,\n  status: string,\n}\n\ninterface CellState {}\n\nexport class Cell extends React.Component<CellProps, CellState> {\n  render () {\n    return (\n      <div\n        onMouseOver={() => {this.props.handleHover(this.props.position)}}\n        onMouseLeave={() => {this.props.handleUnhover(this.props.position)}}\n        onClick={() => {this.props.handleClick(this.props.position,this.props.type)}}\n        className={`cell cell-type-${this.props.type} cell-special-${this.props.special} cell-status-${this.props.status}`}>\n        <span></span>\n      </div>\n    )\n  }\n}\n\nexport class _Cell {\n  public type:number;\n  public special:string;\n  public status:string;\n\n  constructor (type:number, special:string = '', status:string = 'filling') {\n    this.type = type;\n    this.special = special;\n    this.status = status;\n  }\n}","import React from 'react'\nimport { getRandomInt, getRandomItem, deepCopy, onBoard } from './Util'\nimport { Cell, _Cell } from './Cell'\nimport './Board.css'\n\ninterface BoardProps {\n  width: number,\n  height: number,\n  addScore: Function,\n  level: number,\n}\n\ninterface BoardState {\n  cells: _Cell[][],\n  locked: boolean,\n}\n\nexport default class Board extends React.Component<BoardProps, BoardState> {\n  private buffer:_Cell[][];\n  private hovered?:[number,number];\n  private targeted?:[number,number][];\n\n  constructor (props:any) {\n    super(props)\n\n    let emptyCell = new _Cell(0);\n    let cells = Array(this.props.height).fill(Array(this.props.width).fill(emptyCell));\n    this.buffer = JSON.parse(JSON.stringify(cells));\n    this.hovered = undefined;\n\n    this.state = {\n      cells: cells,\n      locked: false,\n    }\n  }\n\n  render () {\n    return (\n      <div className=\"cells\">\n        {\n          this.state.cells.map((cells: _Cell[], groupIndex: number) => {\n            return (\n              <div key={groupIndex} className=\"cells-row\">\n                {\n                  cells.map((cell: _Cell, cellIndex: number) => {\n                    return <Cell\n                      status={cell.status}\n                      position={[cellIndex,groupIndex]}\n                      key={groupIndex * 4 + cellIndex}\n                      type={cell.type}\n                      handleClick={(p:[number,number])=>{this.handleClick(p)}}\n                      handleHover={(p:[number,number])=>{this.handleHover(p)}}\n                      handleUnhover={(p:[number,number])=>{this.handleUnhover(p)}}\n                      special={cell.special}\n                    />\n                  })\n                }\n              </div>\n            )\n          })\n        }\n      </div>\n    )\n  }\n\n  componentDidMount () {\n    this.fillCells();\n  }\n\n  private handleUnhover (position:[number,number]) {\n    this.hovered = undefined;\n    if (this.targeted && this.targeted.length >= 3) {\n      this.untargetByPositions(this.targeted);\n      if (!this.state.locked) {\n        this.flushBuffer();\n      }\n    }\n    this.targeted = undefined;\n  }\n\n  private handleHover (position:[number,number]) {\n    this.hovered = position;\n    let found = this.findGroupPositions(position);\n    console.log(found);\n\n    if (found[0].length >= 3) {\n      this.targeted = found[1];\n      this.targetByPositions(found[1]);\n      if (!this.state.locked) {\n        this.flushBuffer();\n      }\n    }\n  }\n\n  private handleClick (position:[number,number]) {\n    if (this.state.locked) {\n      return;\n    } else if (this.targeted) {\n      let targeted = this.targeted;\n\n      if (targeted.length >= 3) {\n        this.props.addScore(targeted.length);\n        this.lock(() => {\n          this.boomByPositions(targeted);\n        });\n      } else {\n        this.resetBuffer();\n      }\n    }\n  }\n\n\n  private fillCells(s?:number) {\n    let ns:number[];\n\n    if (typeof s !== 'undefined') {\n      let pickn = s > 3 ? s - 1 : 2;\n      ns = Array(pickn).fill(null);\n      ns = ns.map((v:number, i:number) => {\n        return this.getRandomTileType();\n      });\n    }\n\n    this.buffer.forEach( (r:_Cell[]) => {\n      r.forEach( (c:_Cell, i:number) => {\n        if (c.type === 0) {\n          r[i] = this.fillCell(ns);\n        }\n      })\n    });\n    this.flushBuffer();\n\n    this.unlock();\n\n    if (typeof this.hovered !== 'undefined') {\n      this.handleHover(this.hovered);\n    }\n  }\n\n  private fillCell(ns?:number[]):_Cell {\n    let type = this.getRandomTileType();\n    if (typeof ns !== 'undefined') {\n      let type = getRandomItem(ns);\n    }\n\n    let special = '';\n    if(getRandomInt(1,100) < 5) {\n      special = getRandomItem(['borg', 'gold']);\n    }\n\n    return new _Cell(type, special);\n  }\n\n  private targetByPositions(targeted:[number,number][]) {\n    targeted.forEach((p:[number,number]) => {\n      let cell = this.getCell(p);\n      cell.status = 'targeted';\n    });\n  }\n\n  private untargetByPositions(targeted:[number,number][]) {\n    targeted.forEach((p:[number,number]) => {\n      let cell = this.getCell(p);\n      cell.status = '';\n    });\n  }\n\n\n  private findGroupPositions(start:[number,number]):[number,number][][] {\n    let startCell = this.getCell(start);\n    let findType = startCell.type;\n    let searchSpace = deepCopy(this.buffer)\n\n    return this.findMatchingAdjacent(searchSpace,start,findType,[],[])\n  }\n\n  private findTypePositions(type:number):[number,number][] {\n    let found:[number,number][] = [];\n    this.buffer.forEach((row:_Cell[], y:number) => {\n      row.forEach((cell:_Cell, x:number) => {\n        if (cell.type === type) {\n          found.push([x,y]);\n        }\n      })\n    })\n    return found;\n  }\n\n  private findMatchingAdjacent(\n    searchSpace:&_Cell[][],\n    start:[number,number], findType:number,\n    foundAdjacent:[number,number][],\n    found:[number,number][]):[number,number][][]\n  {\n    if (searchSpace[start[1]][start[0]].type === 0) {\n      console.log('term');\n      return [foundAdjacent,found];\n    }\n\n    foundAdjacent.push(start);\n    found.push(start);\n    if (searchSpace[start[1]][start[0]].special === 'borg') {\n      found = found.concat(this.findTypePositions(searchSpace[start[1]][start[0]].type));\n    }\n    searchSpace[start[1]][start[0]].type = 0;\n\n    let adjacentPositions = this.getAdjacentPositions(start);\n    adjacentPositions.forEach((adjPosition:[number,number]) => {\n      let adjCell = this.getCell(adjPosition);\n      if (adjCell.type === findType) {\n        let recurse = this.findMatchingAdjacent(searchSpace,adjPosition,findType,foundAdjacent,found);\n        // foundAdjacent = foundAdjacent.concat(recurse[0]);\n        found = recurse[1]\n      }\n    })\n    return [foundAdjacent,found];\n  }\n\n  private getAdjacentPositions(p:[number,number]) {\n    let x = p[0];\n    let y = p[1];\n    let positions:[number,number][] = [\n      [x+1,y],\n      [x-1,y],\n      [x,y+1],\n      [x,y-1]\n    ]\n\n    return positions.filter((position:[number,number]) => {\n      return onBoard(position);\n    })\n  }\n\n  private boomByPositions(positions:[number,number][]) {\n    positions.forEach((position:[number,number]) => {\n      let cell = this.getCell(position);\n      if (cell.special === 'gold') {\n        this.props.addScore(15)\n      }\n      cell.status = 'booming';\n    });\n\n    this.flushBuffer();\n\n    setTimeout(() => {\n      positions.forEach((position:[number,number]) => {\n        let cell = this.getCell(position);\n        let cType = cell.type;\n        let cSpecial = cell.special;\n\n        cell.type = 0;\n        cell.special = '';\n        cell.status = 'booming';\n      });\n      this.flushBuffer();\n\n      let bfc = this.fillCells.bind(this);\n      bfc(positions.length)\n    }, 500)\n  }\n\n  private boomByType(type:number) {\n    this.boomByPositions(this.findTypePositions(type));\n    this.flushBuffer();\n  }\n\n  private getCell(p:[number,number]):_Cell {\n    return this.buffer[p[1]][p[0]];\n  }\n\n  private flushBuffer() {\n    let buffer = JSON.parse(JSON.stringify(this.buffer));\n    this.setState((state) => {\n      return {cells: buffer}\n    })\n  }\n\n  private resetBuffer() {\n    this.buffer = JSON.parse(JSON.stringify(this.state.cells));\n  }\n\n  private getRandomTileType():number {\n    let maxmax = 5;\n    let max = this.props.level + 4 >= maxmax ? maxmax : this.props.level + 4;\n    let r = getRandomInt(1,this.props.level + 4);\n    return r >= max ? max : r;\n  }\n\n  private lock(callback?:(() => void)):void {\n    this.setState(() => {\n      return {locked: true}\n    }, callback)\n  }\n\n  private unlock(callback?:(() => void)):void {\n    this.setState(() => {\n      return {locked: false}\n    }, callback)\n  }\n}","import React from 'react'\nimport Board from './Board'\nimport Menu from './Menu'\nimport './App.css'\n\ninterface AppProps {\n}\n\ninterface AppState {\n  score: number,\n  level: number,\n  addition: number,\n  over: boolean,\n  won: boolean,\n}\n\nexport default class App extends React.Component<AppProps, AppState> {\n  constructor (props: any) {\n    super(props)\n\n    this.state = {\n      level: 1,\n      score: 0,\n      over: false,\n      won: false,\n      addition: 0\n    }\n  }\n\n  componentDidMount () {  }\n\n  componentWillUnmount () {\n  }\n\n  render () {\n    return (\n      <div className=\"app\">\n        <div className=\"game-header\">\n          <h1 className=\"title\">\n            Nature's Ornaments\n          </h1>\n          <div className=\"score-container\">\n            {this.state.score}\n          </div>\n          <div className=\"level-container\">\n            {this.state.level}\n          </div>\n          {/* <Menu /> */}\n        </div>\n\n        <div className=\"game-intro\">\n          {/* <button className=\"restart-button\" onClick={this.restart}>New Board</button> */}\n        </div>\n\n        <div className=\"game-container\">\n          {\n            (this.state.won || this.state.over) &&\n              <div className={`game-message game-${(this.state.won && 'won') || (this.state.over && 'over')}`}>\n                <p>\n                  {this.state.won ? 'You win!' : 'Board over!'}\n                </p>\n\n                <div className='actions'>\n                  {/* <button className='retry-button' onClick={this.restart}>Try again</button> */}\n                </div>\n              </div>\n          }\n          <Board\n            width={11}\n            height={7}\n            addScore={(s:number) => {this.addScore(s)}}\n            level={this.state.level}\n          />\n        </div>\n\n        <p className=\"game-explanation\">\n        </p>\n      </div>\n    )\n  }\n\n  private addScore (boomed: number) {\n    const levelThresholds = [\n      0,\n      1000,\n      2100,\n      3300,\n      4600,\n      7000,\n      15000,\n      25000,\n      100000000000,\n\n    ]\n\n    let add = boomed;\n    if (boomed <= 4) {\n      add = 10 * boomed;\n    } else if (boomed <= 7) {\n      add = 15 * boomed;\n    } else if (boomed <= 10) {\n      add = 20 * boomed;\n    } else {\n      add = 25 * boomed;\n    }\n\n    let newScore = add + this.state.score;\n\n    this.setState((state) => {\n      let level = state.level;\n\n      levelThresholds.reduce((a:number, b:number, i:number):number => {\n        if (newScore >= a && newScore <= b) {\n          level = i;\n        }\n\n        return b;\n      })\n\n      return {\n        score: newScore,\n        level: level,\n      }\n    })\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport '@babel/plugin-proposal-nullish-coalescing-operator'\n\n// declare global {\n//     interface Window { ornamentV2: any; }\n// }\n\n// window.ornamentV2 = window.ornamentV2 || {};\n\n// window.ornamentV2.app = <App />;\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}